# 🔄 Auto-Sync System for National Park Directory

This system automatically synchronizes your local repository with new blog posts generated by the GitHub Actions automation, so you never have to manually `git pull` again.

## 🚀 Quick Setup

### Option 1: Automatic Setup (Recommended)
Run this as **Administrator** in PowerShell:
```cmd
.\setup-auto-sync.bat
```

### Option 2: Manual Sync When Needed
```cmd
.\auto-sync.bat
```
or
```powershell
.\auto-sync.ps1
```

## 📋 What Gets Installed

The setup creates a **Windows Task Scheduler** task that:
- ✅ Runs **every hour** automatically
- ✅ Checks for new commits from your blog automation
- ✅ Pulls new blog posts to your local repository
- ✅ Shows you exactly what new posts were added
- ✅ Runs silently in background (no interruption)

## 🔍 Managing the Auto-Sync Task

### Check Status
```cmd
schtasks /query /tn "NationalParkDirectory-AutoSync"
```

### Run Manual Sync Now
```cmd
schtasks /run /tn "NationalParkDirectory-AutoSync"
```

### Remove Auto-Sync (if needed)
```cmd
schtasks /delete /tn "NationalParkDirectory-AutoSync" /f
```

## 🎯 Expected Workflow

1. **7:00 AM UTC**: GitHub Actions generates 2 new blog posts
2. **8:00 AM**: Auto-sync detects new commits and pulls them
3. **Result**: New blog posts available locally without any action from you

## 📊 Sample Output

When new posts are found:
```
🔄 Auto-syncing National Park Directory repository...
📡 Fetching latest changes from remote...
📥 Found 1 new commit(s). Pulling changes...
✅ Repository synchronized successfully!
🎉 1 new blog post(s) now available locally

📝 New blog posts:
   • src/content/blog/2025-06-07-arches-national-park-moab-utah-guide.md
   • src/content/blog/2025-05-17-colonial-williamsburg-virginia-history.md
```

## ⚡ Troubleshooting

### "Task creation failed"
- Run `setup-auto-sync.bat` as **Administrator**
- Windows requires admin rights to create scheduled tasks

### "Auto-sync not working"
- Check task status: `schtasks /query /tn "NationalParkDirectory-AutoSync"`
- Run manual test: `.\auto-sync.ps1`
- Ensure git is in your PATH

### "PowerShell execution policy error"
The scripts use `-ExecutionPolicy Bypass` to avoid policy issues, but if you encounter problems:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

## 🔧 Technical Details

- **Frequency**: Every hour (configurable in Task Scheduler)
- **Method**: `git fetch` + `git pull origin main`
- **Safety**: Only pulls if remote has new commits
- **Logging**: All operations logged with timestamps
- **Impact**: Minimal - runs in seconds, no performance impact

## 📅 Dating System

Your blog automation now generates posts with this pattern:

- **Current Posts**: June 6, 7, 8, 9... (moving forward)
- **Historical Posts**: May 18, 17, 16, 15... (moving backward)

Each day gets **2 blog posts** with different dates, maximizing content velocity while maintaining chronological organization.

---

**✅ Setup complete! Your repository will now automatically stay synchronized with new blog posts.** 